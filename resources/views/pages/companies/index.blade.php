@extends('layouts.master')

@section('title')
    {{ trans('pages.companies.title') }}
@endsection

@section('container')
	<h2 class="page-title">{{ trans('pages.companies.title') }} <small>{{ trans('pages.companies.description') }}</small> <a href="{{ route('pages.companies.create') }}" class="btn btn-sm pull-right btn-primary"><span class="fa fa-plus"></span> {{ trans('pages.companies_create.title') }}</a></h2>

	@include('errors.validation')
	
	<section class="widget">
        <div class="widget-table-overflow">
			<table class="table table-striped table-lg mt-lg mb-0">
			    <thead class="no-bd">
			    <tr>
			        <th>
			            <div class="checkbox">
			                <input id="companies-chck" type="checkbox" data-check-all>
			                <label for="companies-chck"></label>
			            </div>
			        </th>
			        <th>{{ trans('pages.companies.forms.name') }}</th>
			        <th>{{ trans('pages.companies.forms.website') }}</th>
			        <th class="hidden-xs">{{ trans('pages.companies.forms.phone') }}</th>
			        <th class="col-md-2"></th>
			    </tr>
			    </thead>
			    <tbody>

			    	@forelse($companies as $company)

				    <tr>
				        <td>
				            <div class="checkbox">
				                <input id="companies-chck-{{ $company->id }}" type="checkbox" data-check-all>
				                <label for="companies-chck-{{ $company->id }}"></label>
				            </div>
				        </td>
				        <td><a href="{{ route('pages.companies.show', [ $company->id ]) }}">{{ $company->name }}</a></td>
				        <td>
				        	@if($company->website)
				        		<a target="_blank" href="{{ $company->website }}">{{ $company->website }}</a>
				        	@endif
				        </td>
				        <td class="hidden-xs">{{ $company->phone }}</td>
				        <td>
				        	<form class="pull-right" id="company-form-delete-{{ $company->id }}" method="POST" action="{{ route('pages.companies.destroy', [ $company->id ]) }}">
				        		<input type="hidden" name="_method" value="DELETE">
				        		<input type="hidden" name="_token" value="{{ csrf_token() }}">
				        		<button type="submit" class="btn btn-danger btn-sm"><span class="fa fa-trash"></span> {{ trans('pages.companies.forms.delete') }}</button>
				        	</form>
				        	<a class="btn btn-sm btn-warning pull-right" href="{{ route('pages.companies.edit', [ $company->id ]) }}" style="margin-right:5px;"><span class="fa fa-pencil"></span> {{ trans('pages.companies.forms.edit') }}</a>
				        </td>
				    </tr>

				    @empty

				    <tr><td colspan="8" class="text-center"><b>{{ trans('pages.companies.forms.no_results') }}</b>	</td></tr>

				    @endforelse
			    </tbody>
			</table>
		</div>
	</section>
@endsection