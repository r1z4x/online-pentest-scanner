<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Model;
use Illuminate\Database\Eloquent\SoftDeletes;

class Scan extends Model
{
	use SoftDeletes;

	protected $dates 	= ['deleted_at', 'created_at', 'updated_at'];
	protected $fillable = ['name', 'type', 'active', 'description', 'owner_id', 'profile_id', 'urls', /*'assets',*/];
	protected $table 	= 'scans';
	protected $casts 	= ['urls' => 'object'];

	static $repeats 	= ['Hours', 'Daily', 'Weekly', 'Monthly'];

	public function getUrlsAttribute($value)
	{
	    return json_decode($value, true);
	}

	public function setUrlsAttribute($value)
	{
	    $this->attributes['urls'] = json_encode($value);
	}

	public function profile()
	{
		return $this->hasOne(\App\Models\Profile::class, 'id', 'profile_id');
	}
}
